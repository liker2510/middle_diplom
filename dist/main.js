(()=>{"use strict";(()=>{const e=document.querySelectorAll('a[href^="#"]'),t=document.querySelector(".smooth-scroll");window.addEventListener("scroll",(function(){let e=window.pageYOffset,s=document.documentElement.clientHeight;e>s&&t.classList.add("smooth-scroll-active"),e<s&&t.classList.remove("smooth-scroll-active")}));for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const s=t.getAttribute("href");document.querySelector(s).scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector(".overlay"),t=document.querySelector(".header-modal--opened"),s=document.querySelector(".services-modal--opened");document.body.addEventListener("click",(o=>{o.preventDefault(),o.target.matches(".button>a")&&(t.classList.remove("header-modal"),e.style="display: block"),o.target.matches(".service-button>a")&&(s.classList.remove("services-modal"),e.style="display: block"),o.target.classList.contains("services-modal__close")&&(s.classList.add("services-modal"),e.style=" "),o.target.classList.contains("header-modal__close")&&(t.classList.add("header-modal"),e.style=" ")}))})(),(()=>{function e(e){if(this.el=this.getElement(e.selector),!this.el)return console.log("Что-то не так с селектором");this.layout=e.layout||"+7 (___) ___-__-__",this.maskreg=this.getRegexp(),this.setListeners()}window.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll("input[name=phone]");Array.prototype.forEach.call(t,(function(t){new e({selector:t,layout:t.dataset.mask})}))})),e.prototype.getRegexp=function(){var e=this.layout.replace(/_/g,"\\d");return(e=(e=(e=e.replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\+/g,"\\+")).replace(/\s/g,"\\s")},e.prototype.mask=function(e){var t=e.target,s=this.layout,o=0,n=s.replace(/\D/g,""),r=t.value.replace(/\D/g,"");n.length>=r.length&&(r=n),t.value=s.replace(/./g,(function(e){return/[_\d]/.test(e)&&o<r.length?r.charAt(o++):o>=r.length?"":e})),"blur"==e.type?new RegExp(this.maskreg).test(t.value)||(t.value=""):this.setCursorPosition(t.value.length,t)},e.prototype.setCursorPosition=function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var s=t.createTextRange();s.collapse(!0),s.moveEnd("character",e),s.moveStart("character",e),s.select()}},e.prototype.setListeners=function(){this.el.addEventListener("input",this.mask.bind(this),!1),this.el.addEventListener("focus",this.mask.bind(this),!1),this.el.addEventListener("blur",this.mask.bind(this),!1)},e.prototype.getElement=function(e){if(void 0===e)return!1;if(this.isElement(e))return e;if("string"==typeof e){var t=document.querySelector(e);if(this.isElement(t))return t}return!1},e.prototype.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument}})()})();