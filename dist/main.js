(()=>{"use strict";const e=({formId:e,someElem:t=[]})=>{const o=document.getElementById(e),n=document.createElement("div");n.classList.add("color");const s=()=>{let e=document.querySelectorAll(".color");null!==e&&e.forEach((e=>{e.style="color: #5cb85c; margin-top: 15px;"}))};try{if(!o)throw new Error("Верните форму на место, пожалуйста");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=o.querySelectorAll("input"),r=new FormData(o),l={};var c;n.textContent="Загрузка...",o.append(n),s(),r.forEach(((e,t)=>{l[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type&&"0"!==t.textContent?l[e.id]=t.textContent:"input"===e.type&&0!==t.value&&(l[e.id]=t.value)})),console.log("submit"),(c=l,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{n.textContent="Спасибо! Мы с вами свяжемся!",s(),e.forEach((e=>{e.value=""}))})).catch((e=>{n.textContent="Ошибка...",s()}))})()}))}catch(e){console.log(e.message)}};(()=>{const e=document.querySelectorAll('a[href^="#"]'),t=document.querySelector(".smooth-scroll");console.log(t),window.addEventListener("scroll",(function(){let e=window.pageYOffset,o=document.documentElement.clientHeight;e>o&&t.classList.add("smooth-scroll-active"),e<o&&t.classList.remove("smooth-scroll-active")}));for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href");document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector(".overlay"),t=document.querySelector(".header-modal--opened"),o=document.querySelector(".services-modal--opened");document.body.addEventListener("click",(n=>{n.target.matches(".button>a")&&(t.classList.remove("header-modal"),e.style="display: block"),n.target.matches(".service-button>a")&&(o.classList.remove("services-modal"),e.style="display: block"),n.target.classList.contains("services-modal__close")&&(o.classList.add("services-modal"),e.style=" "),n.target.classList.contains("header-modal__close")&&(t.classList.add("header-modal"),e.style=" ")}))})(),(()=>{function e(e){if(this.el=this.getElement(e.selector),!this.el)return console.log("Что-то не так с селектором");this.layout=e.layout||"+7 (___) ___-__-__",this.maskreg=this.getRegexp(),this.setListeners()}window.addEventListener("DOMContentLoaded",(function(t){const o=document.querySelectorAll("input[name=phone]");Array.prototype.forEach.call(o,(function(t){new e({selector:t,layout:t.dataset.mask})}))})),e.prototype.getRegexp=function(){var e=this.layout.replace(/_/g,"\\d");return(e=(e=(e=e.replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\+/g,"\\+")).replace(/\s/g,"\\s")},e.prototype.mask=function(e){var t=e.target,o=this.layout,n=0,s=o.replace(/\D/g,""),r=t.value.replace(/\D/g,"");s.length>=r.length&&(r=s),t.value=o.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<r.length?r.charAt(n++):n>=r.length?"":e})),"blur"==e.type?new RegExp(this.maskreg).test(t.value)||(t.value=""):this.setCursorPosition(t.value.length,t)},e.prototype.setCursorPosition=function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var o=t.createTextRange();o.collapse(!0),o.moveEnd("character",e),o.moveStart("character",e),o.select()}},e.prototype.setListeners=function(){this.el.addEventListener("input",this.mask.bind(this),!1),this.el.addEventListener("focus",this.mask.bind(this),!1),this.el.addEventListener("blur",this.mask.bind(this),!1)},e.prototype.getElement=function(e){if(void 0===e)return!1;if(this.isElement(e))return e;if("string"==typeof e){var t=document.querySelector(e);if(this.isElement(t))return t}return!1},e.prototype.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument},document.body.addEventListener("input",(e=>{"fio"===e.target.name&&(e.target.value=e.target.value.replace(/[^а-яА-Яa-zA-Z\s]+/,""))}))})(),e({formId:"form1"}),e({formId:"form2"})})();