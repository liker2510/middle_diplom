(()=>{"use strict";const e=({formId:e,someElem:t=[]})=>{const o=document.getElementById(e),n=document.createElement("div");n.classList.add("color");const r=()=>{let e=document.querySelectorAll(".color");null!==e&&e.forEach((e=>{e.style="color: #5cb85c; margin-top: 15px;"}))};function c(){n.textContent=""}r();try{if(!o)throw new Error("Верните форму на место, пожалуйста");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=o.querySelectorAll("input"),c=new FormData(o),l={};var a;n.textContent="Загрузка...",o.append(n),c.forEach(((e,t)=>{l[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id);"number"===e.type&&0!==t.value&&""!==t.value&&(l[e.id]=t.value)})),(a=l,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{n.textContent="Спасибо! Мы с вами свяжемся!",r(),e.forEach((e=>{e.value=""}))})).catch((e=>{n.textContent="Ошибка...",r()}))})(),setTimeout(c,4e3)}))}catch(e){console.log(e.message)}};(()=>{const e=document.querySelectorAll('a[href^="#"]'),t=document.querySelector(".smooth-scroll");window.addEventListener("scroll",(function(){let e=window.pageYOffset,o=document.documentElement.clientHeight;e>o&&t.classList.add("smooth-scroll-active"),e<o&&t.classList.remove("smooth-scroll-active")}));for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href");document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector(".overlay"),t=document.querySelector(".header-modal--opened"),o=document.querySelector(".services-modal--opened");document.body.addEventListener("click",(n=>{n.target.matches(".button>a")&&(t.classList.remove("header-modal"),e.style="display: block"),n.target.matches(".service-button>a")&&(o.classList.remove("services-modal"),e.style="display: block"),n.target.classList.contains("services-modal__close")&&(o.classList.add("services-modal"),e.style=" "),n.target.classList.contains("header-modal__close")&&(t.classList.add("header-modal"),e.style=" ")}))})(),(()=>{function e(e){if(this.el=this.getElement(e.selector),!this.el)return console.log("Что-то не так с селектором");this.layout=e.layout||"+7 (___) ___-__-__",this.maskreg=this.getRegexp(),this.setListeners()}window.addEventListener("DOMContentLoaded",(function(t){const o=document.querySelectorAll("input[name=phone]");Array.prototype.forEach.call(o,(function(t){new e({selector:t,layout:t.dataset.mask})}))})),e.prototype.getRegexp=function(){var e=this.layout.replace(/_/g,"\\d");return(e=(e=(e=e.replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\+/g,"\\+")).replace(/\s/g,"\\s")},e.prototype.mask=function(e){var t=e.target,o=this.layout,n=0,r=o.replace(/\D/g,""),c=t.value.replace(/\D/g,"");r.length>=c.length&&(c=r),t.value=o.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<c.length?c.charAt(n++):n>=c.length?"":e})),"blur"==e.type?new RegExp(this.maskreg).test(t.value)||(t.value=""):this.setCursorPosition(t.value.length,t)},e.prototype.setCursorPosition=function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var o=t.createTextRange();o.collapse(!0),o.moveEnd("character",e),o.moveStart("character",e),o.select()}},e.prototype.setListeners=function(){this.el.addEventListener("input",this.mask.bind(this),!1),this.el.addEventListener("focus",this.mask.bind(this),!1),this.el.addEventListener("blur",this.mask.bind(this),!1)},e.prototype.getElement=function(e){if(void 0===e)return!1;if(this.isElement(e))return e;if("string"==typeof e){var t=document.querySelector(e);if(this.isElement(t))return t}return!1},e.prototype.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument},document.body.addEventListener("input",(e=>{"fio"===e.target.name&&(e.target.value=e.target.value.replace(/[^а-яА-Яa-zA-Z\s]+/,"")),"calc-input"===e.target.name&&(e.target.value=e.target.value.replace(/[^0-9]+/,""))}))})(),(()=>{const e=document.querySelectorAll(".sertificate-document"),t=document.getElementById("imgModal"),o=document.querySelector(".img_popup_close");e.forEach((e=>{e.classList.add("document-inner"),e.removeAttribute("href"),e.addEventListener("click",(()=>{t.style.display="block"}))})),o.addEventListener("click",(()=>{t.style.display="none"}))})(),(()=>{const e=document.querySelector("#calc"),t=document.querySelector("#calc-type"),o=document.querySelector("#calc-type-material"),n=document.querySelector("#calc-input"),r=document.querySelector("#calc-total");null!==e&&e.addEventListener("input",(e=>{e.target!==t&&e.target!==o&&e.target!==n||(()=>{const e=+t.options[t.selectedIndex].value,c=+o.options[o.selectedIndex].value;let l=+n.value,a=0;a=e&&c?e*c*l:0,(({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function r(c){let l=(c-n)/o;l>1&&(l=1);let a=e(l);t(a),l<1&&requestAnimationFrame(r)}))})({duration:1e3,timing:e=>e,draw(e){r.value=Math.ceil(e*a)}})})()}))})(),(e=>{const t=document.querySelectorAll(".timer-days"),o=document.querySelectorAll(".timer-hours"),n=document.querySelectorAll(".timer-minutes"),r=document.querySelectorAll(".timer-seconds"),c=e=>e>=0&&e<10?"0"+e:e;let l=setInterval((()=>{(()=>{let a=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{timeRemaining:t,days:Math.floor(t/60/60/24),hours:Math.floor(t/60/60%24),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60)}})();t.forEach((e=>{e.textContent=c(a.days)})),o.forEach((e=>{e.textContent=c(a.hours)})),n.forEach((e=>{e.textContent=c(a.minutes)})),r.forEach((e=>{e.textContent=c(a.seconds)})),a.timeRemaining<0&&(clearInterval(l),t.forEach((e=>{e.textContent="00"})),o.forEach((e=>{e.textContent="00"})),n.forEach((e=>{e.textContent="00"})),r.forEach((e=>{e.textContent="00"})))})()}),1e3)})("03 december 2021"),(()=>{document.querySelector("#benefits");const e=document.querySelectorAll(".benefits__item");window.screen.width>576&&e.forEach((e=>{e.classList.add("dnone")}))})(),e({formId:"form1",someElem:[{type:"number",id:"calc-total"}]}),e({formId:"form2",someElem:[{type:"number",id:"calc-total"}]})})();